<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="/js/amazon-cognito-identity.js"></script>

  <link rel="stylesheet" href="./styles.css" />
  <title>SimpleWebAuthn Example Site Using Amazon Cognito</title>
</head>
<body>
<div class="container">
  <h1>SimpleWebAuthn Example Site Using Amazon Cognito</h1>

  <div class="controls">
    <section id="registration">
      <input type="text" id="regUsername" placeholder="Enter email address">
      <br><br >
      <button id="btnRegBegin">
        <strong>üö™&nbsp;Register</strong>
      </button>
      <p id="regSuccess" class="success"></p>
      <p id="regError" class="error"></p>
      <details open>
        <summary>Console</summary>
        <textarea id="regDebug" spellcheck="false"></textarea>
      </details>
    </section>

    <section id="authentication">
      <input type="text" id="authUsername" placeholder="Enter email address">
      <br><br >
      <button id="btnAuthBegin">
        <strong>üîê&nbsp;Authenticate</strong>
      </button>
      <p id="authSuccess" class="success"></p>
      <p id="authError" class="error"></p>
      <details open>
        <summary>Console</summary>
        <textarea id="authDebug" spellcheck="false"></textarea>
      </details>
    </section>
  </div>
  <button onclick="signOut()">Sign Out</button>

  <p class="systemError"></p>
</div>
<script>
  const { CognitoUserPool, CognitoUserAttribute, CognitoUser, AuthenticationDetails } = AmazonCognitoIdentity;
  var poolData = {
    UserPoolId: 'eu-north-1_gFRRs0pAX',
    ClientId: '7r2bam11ounrq97okspbpjrtv0'
  };
  var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);

  var currentUser = userPool.getCurrentUser();

  function signOut() {
    console.log(currentUser);
    if (currentUser) {
      currentUser.signOut();
      console.log('User signed out');
    }
  }



</script>
</body>
</html>